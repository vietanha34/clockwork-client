# Specification: Ubuntu Platform Support

**Track ID:** ubuntu-platform-support_20260226
**Type:** Feature
**Created:** 2026-02-26
**Status:** Draft

## Summary

Treat Ubuntu/Linux the same as Windows for tray icon behavior, window toggle, and UI styling. Fix the broken tray click on Ubuntu by adding a context menu.

## Context

Clockwork Menubar is a cross-platform desktop app (macOS, Windows, Linux). Currently Linux uses macOS-style canvas-rendered tray icons, but Ubuntu's AppIndicator limits tray to square icons and doesn't support left-click events. Windows already has a working "desktop" mode with static icons, tooltips, and adapted UI.

## User Story

As a Linux/Ubuntu user, I want the Clockwork tray icon and window to work correctly so that I can track my time without issues on my desktop environment.

## Acceptance Criteria

- [ ] Platform helper (`isSquareTrayPlatform()`) abstracts Windows+Linux as "desktop" group
- [ ] All `os === 'windows'` checks in frontend replaced with platform helper
- [ ] CSS class renamed from `platform-windows` to `platform-desktop`
- [ ] Linux tray icon uses static PNGs (idle/active) instead of canvas-rendered
- [ ] Linux tray shows tooltip with timer info instead of bitmap text
- [ ] Linux has context menu with "Show/Hide" and "Quit" items
- [ ] Window positions above tray on Linux (same as Windows)
- [ ] Daily progress bar shows on Linux
- [ ] Pin guide shows on Linux with Ubuntu-specific instructions
- [ ] macOS behavior unchanged

## Dependencies

- Extends existing Windows platform support (windows-platform-support_20260225)

## Out of Scope

- Other Linux desktop environments (KDE, XFCE) specific tweaks
- Wayland-specific handling
- Timer "On Hold" status (separate track)

## Technical Notes

- Design doc: `docs/plans/2026-02-26-ubuntu-platform-support-design.md`
- Implementation plan: `docs/plans/2026-02-26-ubuntu-platform-support-plan.md`
- Linux context menu uses `MenuBuilder` from `tauri::menu`
- `set_show_menu_on_left_click(true)` as workaround for AppIndicator

---

_Generated by Conductor. Review and edit as needed._
