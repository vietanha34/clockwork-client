# Implementation Plan: Monorepo Scaffolding

**Track ID:** monorepo-scaffolding_20260210
**Spec:** [spec.md](./spec.md)
**Created:** 2026-02-10
**Status:** [x] Complete

## Overview

Set up the Turborepo monorepo from scratch using pnpm workspaces. Scaffold each of the 3 apps using official tooling, create shared config packages, and verify everything builds and runs.

## Phase 1: Monorepo Foundation

Initialize the root monorepo structure with Turborepo and pnpm workspaces.

### Tasks

- [x] Task 1.1: Initialize git repo and create root `package.json` with pnpm workspace config
- [x] Task 1.2: Add `turbo.json` with pipeline configuration (build, dev, lint)
- [x] Task 1.3: Create `pnpm-workspace.yaml` defining `apps/*` and `packages/*` workspaces
- [x] Task 1.4: Add root `.gitignore` (node_modules, dist, target, .env, .turbo, etc.)
- [x] Task 1.5: Add root `tsconfig.json` as base config reference

### Verification

- [x] `pnpm install` runs without errors at the root
- [x] Directory structure: `apps/`, `packages/` directories exist

## Phase 2: Shared Configuration Packages

Create shared TypeScript and ESLint config packages used across all apps.

### Tasks

- [x] Task 2.1: Create `packages/typescript-config` with base, React, and Node tsconfig presets
- [x] Task 2.2: Create `packages/eslint-config` with shared ESLint rules for TypeScript/React

### Verification

- [x] Shared packages are valid and can be referenced by workspace apps

## Phase 3: Tauri Desktop App

Scaffold the Tauri v2 app with React + Vite frontend.

### Tasks

- [x] Task 3.1: Scaffold Tauri v2 app in `apps/tauri` using `pnpm create tauri-app` with React + TypeScript template
- [x] Task 3.2: Configure the Tauri app to use shared tsconfig and eslint-config packages
- [x] Task 3.3: Verify Tauri app builds (`pnpm build`) and dev server starts (`pnpm dev`)

### Verification

- [x] `pnpm --filter tauri dev` starts the Tauri dev window
- [x] `pnpm --filter tauri build` completes without errors

## Phase 4: Vercel API App

Scaffold the Vercel serverless API application.

### Tasks

- [x] Task 4.1: Create `apps/api` with Vercel API route structure (`api/` directory with a health check route)
- [x] Task 4.2: Add `package.json` with Vercel dev dependencies and scripts
- [x] Task 4.3: Configure TypeScript and ESLint using shared packages
- [x] Task 4.4: Verify local dev with `vercel dev` or equivalent

### Verification

- [x] `pnpm --filter api dev` starts a local API server
- [x] Health check endpoint responds at `/api/health`

## Phase 5: Inngest App

Scaffold the Inngest background functions application.

### Tasks

- [x] Task 5.1: Create `apps/inngest` with Inngest SDK setup and a placeholder function
- [x] Task 5.2: Add `package.json` with Inngest dependencies and scripts
- [x] Task 5.3: Configure TypeScript and ESLint using shared packages
- [x] Task 5.4: Set up Inngest dev server configuration

### Verification

- [x] `pnpm --filter inngest dev` starts the Inngest dev server
- [x] Inngest dashboard shows the placeholder function registered

## Phase 6: Turborepo Integration

Wire everything together and verify end-to-end.

### Tasks

- [x] Task 6.1: Verify `turbo.json` pipelines work: `pnpm turbo build` builds all apps
- [x] Task 6.2: Verify `pnpm turbo dev` starts all dev servers concurrently
- [x] Task 6.3: Verify `pnpm turbo lint` runs linting across all apps

### Verification

- [x] `pnpm turbo build` completes for all 3 apps without errors
- [x] `pnpm turbo dev` starts all dev servers
- [x] `pnpm turbo lint` passes with no errors

## Final Verification

- [x] All acceptance criteria met
- [x] All apps build successfully
- [x] All dev servers start
- [x] Git repo initialized with proper .gitignore
- [x] Ready for feature development

---

_Generated by Conductor. Tasks will be marked [~] in progress and [x] complete._
