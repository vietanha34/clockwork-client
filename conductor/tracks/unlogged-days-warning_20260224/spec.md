# Specification: Unlogged Days Warning

**Track ID:** unlogged-days-warning_20260224
**Type:** Feature
**Created:** 2026-02-24
**Status:** Draft

## Summary

Add a warning system that alerts users when previous weekdays in the current week have insufficient logged hours (< 8h), displayed as an in-app banner and a red dot indicator on the tray icon.

## Context

The Clockwork Menubar app currently tracks daily progress for today only via the tray icon progress bar. Users have no visibility into whether they logged enough hours on previous days, leading to forgotten time entries that pile up.

## User Story

As a Clockwork Pro user, I want to be warned when previous workdays have less than 8 hours logged so that I can catch up on missing time entries before they pile up.

## Acceptance Criteria

- [ ] On app mount, the app checks worklogs for each weekday (Mon-Fri) from the start of the current week through yesterday
- [ ] Days with total logged time < 8 hours (28800 seconds) are flagged as "unlogged"
- [ ] An amber warning banner appears at the top of MainView listing each unlogged day with its logged vs required hours
- [ ] The banner is collapsible (default expanded) and hidden when all days are sufficiently logged
- [ ] A "Resolve" button opens a guide modal with instructions for logging time via CLI tools or Clockwork web
- [ ] A red dot indicator appears on the tray icon when unlogged days exist
- [ ] After stopping a timer, the check is re-triggered to update the warning state
- [ ] Weekend days (Sat/Sun) are excluded from the check

## Dependencies

- Existing `GET /api/worklogs?accountId=&date=` API endpoint (already available)
- `@tanstack/react-query` `useQueries` for parallel fetching
- No backend changes required

## Out of Scope

- Configurable required hours per day (hardcoded 8h)
- OS-level notifications (only in-app banner + tray icon)
- Checking weeks other than the current week
- Auto-logging or auto-filling missing hours

## Technical Notes

- Design doc: `docs/plans/2026-02-24-unlogged-days-warning-design.md`
- Client-side only approach using existing API
- Max 4 parallel requests per check (Mon-Thu if today is Friday)
- Cache strategy: `staleTime: 5min`, `gcTime: 30min`, no refetch on window focus

---

_Generated by Conductor. Review and edit as needed._
