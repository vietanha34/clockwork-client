# Specification: Jira Issue Search for Start Timer

**Track ID:** issue-search_20260213
**Type:** Feature
**Created:** 2026-02-13
**Status:** Draft

## Summary

Add a searchable combobox to the Start Timer form that searches all project issues via JQL. When empty/focused, it shows the user's in-progress issues as defaults. User selects an issue from the dropdown to start a timer.

## Context

The Clockwork Menubar app currently requires users to type exact Jira issue keys (e.g. `KAN-42`) from memory when starting a timer. There is no search, autocomplete, or suggestion mechanism. This creates friction â€” users must switch to Jira in a browser to look up issue keys, defeating the purpose of the desktop app.

## User Story

As a Clockwork Pro user, I want to search for Jira issues when starting a timer so that I don't have to remember exact issue keys.

## Acceptance Criteria

- [ ] Atlassian client has a `searchIssues(jql, maxResults)` function using Jira JQL search API
- [ ] New `GET /api/issues/search?q=...&accountId=...` endpoint returns matching issues
- [ ] When input is empty/focused, dropdown shows user's in-progress issues (assigned to `accountId`, status = "In Progress")
- [ ] When user types, debounced search (300ms) queries all project issues matching key or summary
- [ ] Dropdown shows issue key, summary, status, and project for each result (max 10)
- [ ] Selecting an item fills the issue key and starts the timer flow
- [ ] User can still type an exact issue key manually and submit without selecting from dropdown

## Dependencies

- Existing `atlassian-client.ts` (Jira REST API base helper)
- Existing `StartTimerForm.tsx` component
- Existing Tauri `api-client.ts`

## Out of Scope

- Server-side Redis caching for search results
- Project filtering UI
- Recent issues / favorites list
- Keyboard navigation beyond basic up/down

## Technical Notes

- **Search API:** Jira `/rest/api/3/search` with JQL
- **Default query (empty input):** `assignee = "{accountId}" AND status = "In Progress" ORDER BY updated DESC`
- **Search query (user types):** `(key = "{query}" OR summary ~ "{query}") ORDER BY updated DESC`
- **Search scope:** All project issues (not limited to assigned)
- **UI approach:** Custom combobox built with Tailwind (no external library)
- **Debounce:** 300ms before firing search requests
- **Max results:** 10 items in dropdown

---

_Generated by Conductor. Review and edit as needed._
