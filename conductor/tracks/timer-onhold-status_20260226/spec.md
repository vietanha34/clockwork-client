# Specification: Timer "On Hold" Status

**Track ID:** timer-onhold-status_20260226
**Type:** Feature
**Created:** 2026-02-26
**Status:** Draft

## Summary

Surface the "On Hold" timer status when timers run outside business hours. The Clockwork API returns `within_working_hours: false` but the frontend currently ignores this field entirely.

## Context

Clockwork Pro timers have a `within_working_hours` boolean field indicating whether the timer is running during configured working hours. When `false`, the timer is effectively "on hold" — still running but not counting towards work time. Users currently have no visual indication of this state.

## User Story

As a user with an active timer outside working hours, I want to see that my timer is "On Hold" so that I understand why time isn't being logged.

## Acceptance Criteria

- [ ] `withinWorkingHours` and `startedWithinWorkingHours` mapped from API raw timer to `Timer` interface
- [ ] Timer status derived as `running | on_hold | stopped` via utility function
- [ ] ActiveTimer card shows amber styling when on hold: left border, background tint, pause icon, "On Hold" badge
- [ ] macOS tray renders amber text/progress bar when timer is on hold
- [ ] Windows/Ubuntu tray uses `tray-onhold.png` (amber icon) when timer is on hold
- [ ] Rust `update_tray_icon_state` command accepts string state (`active`/`onhold`/`idle`) instead of boolean
- [ ] `useTrayTimer` hook receives and uses `withinWorkingHours` param

## Dependencies

- **ubuntu-platform-support_20260226** — needs `isSquareTrayPlatform()` helper for tray icon logic

## Out of Scope

- Configuring working hours (managed by Clockwork Pro admin)
- Pausing/resuming timers manually
- Notification when timer goes on hold

## Technical Notes

- Design doc: `docs/plans/2026-02-26-timer-onhold-status-design.md`
- Implementation plan: `docs/plans/2026-02-26-timer-onhold-status-plan.md`
- `within_working_hours` defaults to `true` when null (API may return null)
- Amber color: `#f59e0b` (Tailwind amber-500)

---

_Generated by Conductor. Review and edit as needed._
