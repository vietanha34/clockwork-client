# Specification: Vercel Deployment

**Track ID:** vercel-deployment_20260210
**Type:** Feature
**Created:** 2026-02-10
**Status:** Draft

## Summary

Configure Vercel deployment for both `apps/api` (Clockwork API proxy) and `apps/inngest` (Inngest background functions). This includes converting the Inngest app from Express-only to support Vercel serverless functions, configuring `vercel.json` for monorepo deployment, and documenting all required environment variables.

## Context

Clockwork Menubar is a monorepo with three apps. The Tauri client UI is complete and needs a live API backend to connect to. The `apps/api` app already has a `vercel.json` and `@vercel/node` API routes ready for deployment. The `apps/inngest` app currently uses Express (`inngest/express` serve adapter) which works for local dev but needs a Vercel API route adapter for serverless deployment.

## User Story

As a developer, I want the Vercel API and Inngest app deployed and configured with environment variables so that the Tauri client can connect to a live backend.

## Acceptance Criteria

- [ ] `apps/api` deploys to Vercel with all required env vars configured
- [ ] `apps/inngest` deploys to Vercel and registers with the Inngest platform
- [ ] GET /api/health returns 200 from the deployed URL
- [ ] Inngest dashboard shows the `sync-active-timers` function registered
- [ ] `vercel.json` properly configured for both apps
- [ ] Deployment docs with env var checklist

## Dependencies

- `monorepo-scaffolding_20260210` (complete) — Turborepo structure
- `backend-api-timer-sync_20260210` (complete) — API routes and Inngest function

## Out of Scope

- CI/CD pipelines (GitHub Actions)
- Custom domains
- Production monitoring/alerting
- Rate limiting
- Authentication middleware
- Tauri app distribution/packaging

## Technical Notes

- Use Vercel CLI for deployment config. `apps/api` uses `@vercel/node` runtime.
- `apps/inngest` needs a Vercel API route handler (`api/inngest.ts`) using `serve` from `inngest/vercel` alongside the existing Express entry for local dev.
- Both apps share Upstash Redis env vars.
- Inngest needs `INNGEST_EVENT_KEY` and `INNGEST_SIGNING_KEY` from app.inngest.com.

---

_Generated by Conductor. Review and edit as needed._
